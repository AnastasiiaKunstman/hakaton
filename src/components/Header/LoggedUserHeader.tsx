import AppBar from '@mui/material/AppBar';
import Box from '@mui/material/Box';
import Toolbar from '@mui/material/Toolbar';
import IconButton from '@mui/material/IconButton';
import Container from '@mui/material/Container';
import Button from '@mui/material/Button';
import MenuItem from '@mui/material/MenuItem';
import { Link } from 'react-router-dom';
import { SvgIcon } from '@mui/material';
import { useAppDispatch } from '../../store/hooks';
import { logout } from '../../store/index';

export const pages = [
  {
    name: 'Подбор кандидатов',
    path: '/students/',
    id: 1,
  },
  {
    name: 'Мои вакансии',
    path: '/vacancies/active',
    id: 2,
  },
];

export default function LoggedUserHeader() {
  const dispatch = useAppDispatch();

  const onLogout = () => {
    dispatch(logout());
  };

  return (
    <AppBar
      position="static"
      sx={{
        backgroundColor: '#1A1B22', height: '65px', boxShadow: 'none', padding: '0 46px',
      }}
    >
      <Container maxWidth="xl">
        <Toolbar>
          <MenuItem component={Link} to="/">
            <svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="44" height="44" fill="#1A1B22" />
              <rect width="2.64" height="18" transform="matrix(1 0 0 -1 12 31)" fill="#F9FAFB" />
              <rect width="2.64" height="18" transform="matrix(1 0 0 -1 29 31)" fill="#F9FAFB" />
              <rect width="2.64" height="5" transform="matrix(0 -1 -1 0 21.3203 21.3198)" fill="#F9FAFB" />
              <rect width="2.64" height="5" transform="matrix(0 -1 -1 0 27.3203 24.3198)" fill="#F9FAFB" />
            </svg>
          </MenuItem>
          <Box sx={{ flexGrow: 1, display: { md: 'inline-flex' } }}>
            {pages.map((page) => (
              <Button
                key={page.id}
                // onClick={handleCloseNavMenu}
                sx={{
                  textTransform: 'none', color: '#B5B5B7', p: '20px', '&.MuiButtonBase-root:hover': { color: 'white' },
                }}
                component={Link}
                to={page.path}
              >
                {page.name}
              </Button>
            ))}
            <Box sx={{ flexGrow: 1 }} />
            <MenuItem>
              <IconButton
                color="secondary"
                component={Link}
                to="/profile"
                sx={{

                  '&.MuiButtonBase-root:hover': { color: 'white' },
                }}
              >
                <SvgIcon>
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <g clipPath="url(#clip0_1196_4075)">
                      <path d="M20.6701 3.69345C18.4049 1.32907 15.2707 -0.00527207 11.9964 0.000752736C5.37922 -0.00758157 0.0081607 5.34992 -0.000173606 11.9671C-0.00429055 15.2391 1.3299 18.3704 3.69253 20.6339C3.69941 20.6408 3.70197 20.6511 3.7088 20.6571C3.77818 20.7239 3.85359 20.7805 3.92388 20.8448C4.11667 21.0161 4.30947 21.1935 4.51255 21.3589C4.62135 21.4446 4.73447 21.5302 4.84588 21.6091C5.03782 21.7521 5.22976 21.8952 5.43023 22.0272C5.56649 22.1129 5.70702 22.1986 5.84665 22.2843C6.03171 22.3957 6.21597 22.5079 6.40705 22.6099C6.56902 22.6956 6.73435 22.7692 6.89888 22.8472C7.07882 22.9329 7.2562 23.0186 7.44041 23.0957C7.62462 23.1728 7.80973 23.2328 7.9965 23.2996C8.18326 23.3664 8.34438 23.4281 8.52347 23.483C8.7257 23.5438 8.93305 23.5909 9.1387 23.6415C9.31005 23.6834 9.47629 23.7314 9.65281 23.7657C9.88929 23.8129 10.1292 23.8429 10.3692 23.8754C10.5174 23.896 10.6622 23.9251 10.8121 23.9397C11.2046 23.9783 11.6004 23.9997 11.9997 23.9997C12.399 23.9997 12.7949 23.9783 13.1873 23.9397C13.3373 23.9251 13.4821 23.896 13.6303 23.8754C13.8702 23.8429 14.1101 23.8129 14.3466 23.7657C14.518 23.7314 14.6894 23.68 14.8608 23.6415C15.0664 23.5909 15.2738 23.5438 15.476 23.483C15.6551 23.4281 15.8281 23.3613 16.003 23.2996C16.1778 23.2379 16.3765 23.1711 16.559 23.0957C16.7415 23.0203 16.9206 22.932 17.1006 22.8472C17.2651 22.7692 17.4305 22.6955 17.5924 22.6099C17.7835 22.5079 17.9677 22.3956 18.1528 22.2843C18.2925 22.1986 18.433 22.1206 18.5692 22.0272C18.7697 21.8953 18.9617 21.7522 19.1536 21.6091C19.265 21.5234 19.378 21.4462 19.4869 21.3589C19.69 21.1961 19.8828 21.023 20.0756 20.8448C20.1458 20.7805 20.2212 20.724 20.2907 20.6571C20.2975 20.6511 20.3001 20.6408 20.3069 20.6339C25.0853 16.0562 25.2478 8.47167 20.6701 3.69345ZM18.7442 19.7368C18.5882 19.8739 18.4271 20.0042 18.2644 20.1301C18.1684 20.2038 18.0724 20.2766 17.9739 20.3469C17.8188 20.4592 17.6611 20.5654 17.5009 20.6674C17.3843 20.7419 17.2653 20.8139 17.1453 20.8842C16.9944 20.9699 16.8411 21.0555 16.686 21.1412C16.5489 21.2115 16.4092 21.2775 16.2687 21.3426C16.1282 21.4077 15.9731 21.4771 15.8214 21.538C15.6697 21.5988 15.5087 21.6562 15.3501 21.7093C15.2053 21.759 15.0605 21.8104 14.914 21.8541C14.7426 21.9055 14.5635 21.9475 14.3862 21.9904C14.2473 22.0229 14.1103 22.0598 13.9697 22.0872C13.7666 22.1266 13.5593 22.1541 13.3511 22.1823C13.2329 22.1977 13.1155 22.2192 12.9963 22.2312C12.6673 22.2628 12.334 22.2817 11.9972 22.2817C11.6605 22.2817 11.3272 22.2629 10.9981 22.2312C10.879 22.2192 10.7616 22.1977 10.6433 22.1823C10.4351 22.1541 10.2278 22.1266 10.0247 22.0872C9.88417 22.0598 9.74705 22.023 9.60828 21.9904C9.4309 21.9476 9.25437 21.9047 9.08046 21.8541C8.93396 21.8104 8.78911 21.759 8.64431 21.7093C8.48581 21.6545 8.32726 21.5988 8.17302 21.538C8.01879 21.4771 7.87314 21.4103 7.72573 21.3426C7.57832 21.2749 7.44553 21.2115 7.30846 21.1412C7.15338 21.0607 6.99999 20.9759 6.84917 20.8842C6.72923 20.8139 6.61009 20.7419 6.49356 20.6674C6.33335 20.5654 6.17565 20.4592 6.02056 20.3469C5.92201 20.2767 5.82606 20.2038 5.73007 20.1301C5.56725 20.0042 5.40618 19.8731 5.25024 19.7368C5.21254 19.7085 5.17824 19.6725 5.14144 19.64C5.17975 16.7251 7.05231 14.1513 9.81393 13.2178C11.1948 13.8746 12.798 13.8746 14.1788 13.2178C16.9404 14.1513 18.8129 16.7251 18.8513 19.64C18.8153 19.6725 18.781 19.7051 18.7442 19.7368ZM9.00841 6.87094C9.93618 5.22094 12.0258 4.63548 13.6758 5.56325C15.3258 6.49102 15.9113 8.58067 14.9835 10.2307C14.6757 10.7781 14.2233 11.2305 13.6758 11.5384C13.6716 11.5384 13.6664 11.5384 13.6613 11.5435C13.434 11.6699 13.1939 11.7717 12.9449 11.8468C12.9004 11.8597 12.8592 11.8768 12.8121 11.8879C12.7264 11.9102 12.6364 11.9256 12.5482 11.9411C12.382 11.9701 12.2139 11.987 12.0452 11.9916H11.9475C11.7789 11.987 11.6107 11.9701 11.4445 11.9411C11.3588 11.9256 11.268 11.9102 11.1807 11.8879C11.1352 11.8768 11.095 11.8597 11.0479 11.8468C10.7989 11.7717 10.5587 11.67 10.3315 11.5435L10.3161 11.5384C8.6661 10.6106 8.08064 8.52093 9.00841 6.87094ZM20.3713 17.9409C19.8215 15.3761 18.1326 13.2018 15.7837 12.0345C17.7039 9.94288 17.5648 6.69064 15.4731 4.77049C13.3815 2.85033 10.1292 2.98941 8.20907 5.08107C6.40394 7.04746 6.40394 10.0682 8.20907 12.0345C5.86015 13.2019 4.1713 15.3761 3.62144 17.9409C0.335709 13.3127 1.42399 6.89714 6.05219 3.61142C10.6804 0.32569 17.0959 1.41397 20.3816 6.04217C21.6168 7.78199 22.2798 9.8631 22.2787 11.9968C22.2787 14.1286 21.6118 16.207 20.3713 17.9409Z" fill="#B5B5B7" />
                    </g>
                    <defs>
                      <clipPath id="clip0_1196_4075">
                        <rect width="24" height="24" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </SvgIcon>
              </IconButton>
            </MenuItem>
            <MenuItem sx={{ paddingRight: '24px' }}>
              <Button
                variant="outlined"
                onClick={onLogout}
                sx={{
                  textTransform: 'none',
                  color: 'white',
                  borderColor: 'white',
                  fontSize: '14px',
                  borderRadius: '6',
                  '&.MuiButtonBase-root:hover': { borderColor: 'white' },
                }}
              >
                Выйти
              </Button>
            </MenuItem>
          </Box>
        </Toolbar>
      </Container>
    </AppBar>
  );
}
